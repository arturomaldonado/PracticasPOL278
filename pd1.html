<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Práctica dirigida 1</title>

<script src="site_libs/header-attrs-2.26/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Prácticas Estadística_1</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="intro.html">Introducción</a>
</li>
<li>
  <a href="basico.html">Procedimientos básicos</a>
</li>
<li>
  <a href="pd1.html">Práctica 1</a>
</li>
<li>
  <a href="pd2.html">Práctica 2</a>
</li>
<li>
  <a href="pd3.html">Práctica 3</a>
</li>
<li>
  <a href="pd4.html">Práctica 4</a>
</li>
<li>
  <a href="pd5.html">Práctica 5</a>
</li>
<li>
  <a href="pd6.html">Práctica 6</a>
</li>
<li>
  <a href="pd7.html">Práctica 7</a>
</li>
<li>
  <a href="pd8.html">Práctica 8</a>
</li>
<li>
  <a href="pd9.html">Práctica 9</a>
</li>
<li>
  <a href="pd10.html">Práctica 10</a>
</li>
<li>
  <a href="pd11.html">Práctica 11</a>
</li>
<li>
  <a href="pd12.html">Práctica 12</a>
</li>
<li>
  <a href="pd13.html">Práctica 13</a>
</li>
<li>
  <a href="FAQ.html">FAQ</a>
</li>
<li>
  <a href="https://github.com/arturomaldonado/PracticasPOL278">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Práctica dirigida 1</h1>

</div>


<center>
<img src=" " width="200"/>
</center>
<p><img src="logoPUCP.png" width="30%" /></p>
<p><strong>FACULTAD DE CIENCIAS SOCIALES - PUCP</strong><br></p>
<div
id="curso-pol-278---estadística-para-el-análisis-político-1-semestre-2024---1"
class="section level2">
<h2>Curso: POL 278 - Estadística para el análisis político 1 | Semestre
2024 - 1 <br></h2>
<hr />
</div>
<div id="introducción-a-r" class="section level2">
<h2><strong>Introducción a R</strong></h2>
<p><a id='beginning'></a></p>
<p><a id='part1'></a></p>
</div>
<div id="qué-es-r" class="section level1">
<h1><strong>1. ¿Qué es R?</strong></h1>
<p>R es un lenguaje de programación y un entorno de software libre y de
código abierto utilizado para análisis estadístico y visualización de
datos. Fue desarrollado por Ross Ihaka y Robert Gentleman en la
Universidad de Auckland, Nueva Zelanda, en 1993. Desde entonces, ha sido
ampliamente adoptado por la comunidad científica y empresarial como una
herramienta esencial para el análisis y la visualización de datos.</p>
<p>R cuenta con una amplia variedad de paquetes y bibliotecas que
permiten el análisis estadístico, la minería de datos, el aprendizaje
automático, la visualización de datos y la generación de informes.
Además, su sintaxis es relativamente sencilla, lo que facilita su
aprendizaje y uso para personas con distintos niveles de experiencia en
programación, lo cual ha significado su uso en diversos rubros.</p>
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/ZCQHm63xc4s" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
<hr />
<p><a id='part2'></a></p>
</div>
<div id="qué-podemos-hacer-con-r" class="section level1">
<h1><strong>2. ¿Qué podemos hacer con R?</strong></h1>
<p><img src="QphacerR1.png" /></p>
<p><img src="QphacerR2.png" /></p>
<p><img src="QphacerR3.png" /></p>
<p><img src="QphacerR4.png" /></p>
<hr />
<p><a id='part3'></a></p>
</div>
<div id="conceptos-básicos-para-programar-en-r" class="section level1">
<h1><strong>3. Conceptos básicos para programar en R</strong></h1>
<p>Instalar <a href="http://www.r-project.org">R</a></p>
<p>Instalar <a href="https://posit.co/downloads/">RStudio</a></p>
<div id="usando-r" class="section level3">
<h3>Usando R</h3>
<p><img src="PrograR.png" /></p>
<div id="configurar-el-directorio-de-trabajo" class="section level4">
<h4><strong>3.1. Configurar el directorio de trabajo</strong></h4>
<p>R funciona como un entorno temporal de trabajo, lo que quiere decir
que el usuario va agregando datos y objetos. Sin embargo, si los
análisis no son guardados se deberán repetir las instrucciones para
obtener otra vez el resultado. Por esta razón, es preciso configurar una
carpeta predeterminada en nuestro ordenador, donde el programa buscará
los archivos a ejecutar y guardará los archivos a conservar con
cambios.</p>
<p>Para ver nuestro lugar de trabajo actual escribimos el siguiente
comando (escriba el código en la consola, ya que si lo ejecuta desde
este Rmd, obtendrá el lugar donde se encuentra este archivo):</p>
<pre class="r"><code>getwd() #para saber en qué carpeta está el archivo</code></pre>
<pre><code>## [1] &quot;/Users/lizettecrispinflorez/PracticasPOL278&quot;</code></pre>
<p>Si queremos cambiar de directorio de trabajo, nos dirigirnos al menú
<strong>“Session” &gt; “Set Working Directory” &gt; “Choose
Directory”</strong>. Esto abrirá una ventana emergente, donde buscaremos
la carpeta en la cual vamos a trabajar, la ubicamos y seleccionamos
“Open”. Para verificar el cambio volvemos a digitar la función
<strong>“getwd()”</strong> en la consola.</p>
</div>
<div id="sintaxis-y-objetos-en-r" class="section level4">
<h4><strong>3.2. Sintaxis y objetos en R</strong></h4>
<p>El uso de R es bastante intuitivo y sigue un patrón lógico. Está
compuesto de códigos y la combinación de estos códigos genera una
sintaxis. Asimismo, R guarda la información de nuestras observaciones y
variables a través de objetos.</p>
<p>En un sentido global, la estructura general de una sintaxis puede
resumirse como sigue: a un objeto dado se le asigna el resultado de una
función, que a su vez se ejecuta sobre un conjunto de datos
especificado, con una serie de configuraciones particulares. Veamos el
siguiente ejemplo ficticio.</p>
<p><img src="Sintax.png" /></p>
<p>Si se lee de izquierda a derecha, la línea de comando puede
explicarse como sigue:</p>
<ul>
<li><p>Primero se indica un objeto a crear, con el nombre que ustedes
definan.</p></li>
<li><p>Luego se indica el asignador, que expresa que todo lo que esté a
la derecha de la flecha se guardará en el objeto creado a la izquierda.
El asignador puede ser “&lt;-” o también “=”, para motivos del curso
usaremos este último.</p></li>
<li><p>Luego viene la función que en este caso permite leer archivos
tipo Microsoft Excel. R trabaja con funciones que están dentro de
“paquetes” que la comunidad va desarrollando. Podemos hacer nuestras
operaciones con diversas funciones, y no hay una sola forma de hacerlo.
Si se trata de funciones que no están predeterminadas en R, debemos
instalar el paquete que las contiene con el comando
“install.packages()”, y antes de ejecutarla debemos abrir la libreria
con el comando “library()”</p></li>
<li><p>Luego de la función, se abre un paréntesis que contiene los
argumentos: instrucciones que especifican ciertos detalles de lo que
queramos que la función realice. Los argumentos pueden escribirse de
distintas maneras y va a depender de lo que queramos hacer. En nuestro
ejemplo: El primer argumento indica la información a leer, en este caso
indica un archivo de tipo Excel (extensión xlsx). El segundo argumento
indica la hoja del archivo a leer. El tercer argumento indica qué
columnas se leerán de forma específica (en este caso, las primeras
diez).</p></li>
</ul>
<p><strong>Hagamos un ejemplo:</strong></p>
<p>Vamos a abrir un archivo en R, utilizando la función “import” del
paquete “rio”, el cual es un paquete versátil que nos permite importar
datos de diversas extensiones (dta, sav, csv, xls, etc.)</p>
<p>Antes que todo, debemos instalar el paquete escribiendo en la
consola: <code>install.packages("rio")</code></p>
<pre class="r"><code>library(rio) #Convocamos el paquete   
data=import(&quot;DemocracyIndex2022.xlsx&quot;) #Utilizamos la función import (importar) que creará un objeto  que contenga la base de datos del archivo &quot;DemocracyIndex2022.xlsx&quot; la cual hemos descargado. 

#Podemos verificar la creación del objeto en el environment (ventana derecha superior)

class(data) #si quieren saber que clase de objeto es el que has creado, utilizamos la función &quot;class&quot; y entre paréntesis colocamos el nombre del objeto. Verán que se trata de un &quot;data frame&quot;, es el tipo de objeto en R para las bases de datos.</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div id="qué-otro-tipo-de-objetos-existen" class="section level5">
<h5>¿Qué otro tipo de objetos existen? 🤔</h5>
</div>
</div>
<div id="tipos-de-objetos-en-r" class="section level4">
<h4><strong>3.3. Tipos de objetos en R</strong></h4>
<p>Una parte clave para iniciar el manejo del programa es identificar
los diversos objetos que podemos crear, manipular y utilizar. Para la
definición de objetos en R será necesario previamente tener claridad
teórica sobre lo que es una variable categórica nominal, categórica
ordinal, numérica discreta y numérica continua.</p>
<p>Para los fines de este curso se contemplarán las siguientes
objetos:</p>
<table>
<colgroup>
<col width="15%" />
<col width="84%" />
</colgroup>
<thead>
<tr class="header">
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vector numérico</strong></td>
<td>Vector conformado por la concatenación de números, puede representar
variables numéricas continuas o discretas. Ej: 1.5 , 2.7 , 3.1</td>
</tr>
<tr class="even">
<td><strong>Vector de factores</strong></td>
<td><p>Vector que sirve para representar variables categóricas.</p>
<p>Pudiendo ser factores nominales u ordinales. Ej: “costa”, “sierra”,
“selva”</p></td>
</tr>
<tr class="odd">
<td><strong>Data frames</strong></td>
<td><p>Son hojas de datos, estructuras similares a una matriz; sin
embargo, a diferencia de estas pueden almacenar objetos de distintos
tipo.</p>
<p><strong>Generalmente nuestras bases de datos son de este
tipo</strong> (como una hoja de Excel que tiene variables numéricas,
categóricas, etc).</p></td>
</tr>
</tbody>
</table>
<p>Los <strong>vectores numéricos</strong> se crean a través de la
función <strong><em>concatenar</em></strong>
<strong><code>c()</code></strong>. Vamos a crear un vector que contenga
los montos en millones de soles del presupuesto del Estado asignado a
las 5 prioridades para el 2021</p>
<pre class="r"><code>Presupuesto_millones=c(9879, 33132, 20991, 690, 5392) #creamos el vector (verifiquemos en el environment)
Presupuesto_millones #invocamos el vector para visualizar su contenido</code></pre>
<pre><code>## [1]  9879 33132 20991   690  5392</code></pre>
<p>Un <strong>factor</strong> nos permite representar una variable
categórica. Se crean a través de la función <strong>“factor()”</strong>,
pero antes se crea como vector pues almacena las categorías en la forma
de un vector con números discretos integrales (1,2,3,4,etc.), que son
códigos de los valores de la variable y otro vector de caracteres
interno que contiene las etiquetas de esos códigos. Creemos un factor
con los nombres de las prioridades del presupuesto para el 2021:</p>
<pre class="r"><code>Prioridad = c(1,2,3,4,5) #primero creamos un vector
Prioridad = factor(Prioridad, levels = c(1:5), labels = c(&quot;reactivación&quot;, &quot;educación&quot;,&quot;salud&quot;,&quot;mujer&quot;,&quot;pobreza&quot;)) #Lo convertimos en factor. Ojo con los argumentos.
Prioridad #visualizamos su contenido</code></pre>
<pre><code>## [1] reactivación educación    salud        mujer        pobreza     
## Levels: reactivación educación salud mujer pobreza</code></pre>
<p>También podemos crear un <strong>factor ordenado</strong> para
almacenar información de una variable categórica ordinal. Es casi la
misma ruta, solo que añadiremos una función más para convertir el factor
en ordinal. Creemos un factor ordinal ficticio que contenga el nivel de
ejecución que el Estado ha mostrado en las categorías presupuestales
correspondientes a las prioridades, donde <em>1=Mala, 2=Intermedia y 3=
Buena.</em></p>
<pre class="r"><code>Ejecucion=c(3,2,2,1,2) #creamos un vector numérico que registra los datos
Ejecucion=factor(Ejecucion) #Lo convertimos en factor
levels(Ejecucion)=c(&quot;Mala&quot;,&quot;Intermedia&quot;,&quot;Buena&quot;) #asignamos los niveles al factor
Ejecucion=ordered(Ejecucion) #indicamos que se trata de un factor ordinal (ordered)
Ejecucion #Visualizamos</code></pre>
<pre><code>## [1] Buena      Intermedia Intermedia Mala       Intermedia
## Levels: Mala &lt; Intermedia &lt; Buena</code></pre>
<p>Finalmente, los <strong>data frames</strong> nos permite almacenar un
conjunto de datos, es decir una base de datos (bd) que tiene filas y
columnas. Creemos la base de datos “PP2024” que contenga todos los
objetos que hemos creado:</p>
<pre class="r"><code>PP2024 = data.frame(Prioridad,Presupuesto_millones,Ejecucion)
PP2024 # Visualice la base de datos</code></pre>
<pre><code>##      Prioridad Presupuesto_millones  Ejecucion
## 1 reactivación                 9879      Buena
## 2    educación                33132 Intermedia
## 3        salud                20991 Intermedia
## 4        mujer                  690       Mala
## 5      pobreza                 5392 Intermedia</code></pre>
<pre class="r"><code>str(PP2024) # Visualice la estructura de la BD</code></pre>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  3 variables:
##  $ Prioridad           : Factor w/ 5 levels &quot;reactivación&quot;,..: 1 2 3 4 5
##  $ Presupuesto_millones: num  9879 33132 20991 690 5392
##  $ Ejecucion           : Ord.factor w/ 3 levels &quot;Mala&quot;&lt;&quot;Intermedia&quot;&lt;..: 3 2 2 1 2</code></pre>
<pre class="r"><code>names(PP2024) #Visualice los nombres de las variables de la BD</code></pre>
<pre><code>## [1] &quot;Prioridad&quot;            &quot;Presupuesto_millones&quot; &quot;Ejecucion&quot;</code></pre>
<p>Cuando queramos invocar una variable específica de una base de datos
utilizaremos <strong><code>$</code></strong>, entre la base de datos y
la variable que queremos invocar.</p>
<pre class="r"><code>PP2024$Prioridad #invocamos la variable prioridad de la base de datos</code></pre>
<pre><code>## [1] reactivación educación    salud        mujer        pobreza     
## Levels: reactivación educación salud mujer pobreza</code></pre>
<pre class="r"><code>class(PP2024$Ejecucion) #vemos de que clase es la variable ejecución de la data frame</code></pre>
<pre><code>## [1] &quot;ordered&quot; &quot;factor&quot;</code></pre>
<hr />
<p><a id='part4'></a></p>
</div>
</div>
</div>
<div id="análisis-descriptivo-en-r" class="section level1">
<h1><strong>4. Análisis descriptivo en R</strong></h1>
<style>
.custom-text {
  color: #00688B;
  font-family: Helvetica, sans-serif;
  text-align: center;
  font-weight: bold;
  font-size: 22px;
}
</style>
<div class="custom-text">
<p>¿Cuál es el estado de la democracia en el mundo?</p>
</div>
<p><img src="Portada%20DI_2022.png" /></p>
<p>El índice de democracia (Democracy Index) es un índice que mide la
calidad de la democracia en el mundo. Mide diversas categorías como
libertades civiles, cultura política, pluralismo electoral, etc. A
partir de estas variables, se obtiene un puntaje promedio, el cual
determina el puesto del país a nivel mundial, así como el tipo de
régimen que tiene cada uno.</p>
<p>En esta ocasión, usaremos la base de datos del informe de 2022,
publicado por The Economist Inteligence Unit (EIU). El link es el que se
muestra a continuación: <strong>“<a
href="https://www.eiu.com/n/campaigns/democracy-index-2022/"
class="uri">https://www.eiu.com/n/campaigns/democracy-index-2022/</a>”</strong></p>
<p>Ahora, toca responder la pregunta de investigación.</p>
<p><strong>¡Manos a la obra!</strong></p>
<p>Importemos nuestra base de datos.</p>
<pre class="r"><code>library(rio)    
data=import(&quot;DemocracyIndex2022.xlsx&quot;) </code></pre>
<p>Es necesario saber el tipo de variable que vamos a trabajar. Por
ello, exploramos las variables que tiene nuestra base de datos:</p>
<ul>
<li><strong>chr, factor</strong> -&gt; variable nominal</li>
<li><strong>ordered factor</strong> -&gt; variable ordinal</li>
<li><strong>num, int</strong> -&gt; variable numérica</li>
</ul>
<pre class="r"><code>names(data)</code></pre>
<pre><code>##  [1] &quot;País&quot;                        &quot;Puntaje&quot;                    
##  [3] &quot;Rank&quot;                        &quot;Change_rank_previous_year&quot;  
##  [5] &quot;Electoral_process_pluralism&quot; &quot;Functioning_government&quot;     
##  [7] &quot;Political_participation&quot;     &quot;Political_culture&quot;          
##  [9] &quot;Civil_liberties&quot;             &quot;Categorías&quot;                 
## [11] &quot;Continente&quot;</code></pre>
<pre class="r"><code>str(data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    167 obs. of  11 variables:
##  $ País                       : chr  &quot;Afghanistan&quot; &quot;Albania&quot; &quot;Algeria&quot; &quot;Angola&quot; ...
##  $ Puntaje                    : num  0.32 6.41 3.66 3.96 6.85 5.63 8.71 8.2 2.87 2.52 ...
##  $ Rank                       : num  167 64 113 109 50 82 15 20 134 142 ...
##  $ Change_rank_previous_year  : num  0 4 0 13 0 7 -6 0 7 2 ...
##  $ Electoral_process_pluralism: num  0 7 3.08 4.5 9.17 7.92 10 9.58 0.5 0.42 ...
##  $ Functioning_government     : num  0.07 6.43 2.5 3.21 5 5.71 8.57 7.14 2.86 2.71 ...
##  $ Political_participation    : num  0 5 3.89 4.44 7.78 6.11 7.78 8.89 3.33 3.33 ...
##  $ Political_culture          : num  1.25 6.25 5 5 4.38 3.13 7.5 6.88 5 4.38 ...
##  $ Civil_liberties            : num  0.29 7.35 3.82 2.65 7.94 5.29 9.71 8.53 2.65 1.76 ...
##  $ Categorías                 : chr  &quot;Authoritarian&quot; &quot;Flawed democracy&quot; &quot;Authoritarian&quot; &quot;Authoritarian&quot; ...
##  $ Continente                 : chr  &quot;Asia y Australasia&quot; &quot;Europa del Este&quot; &quot;Sub-Saharan Africa&quot; &quot;Sub-Saharan Africa&quot; ...</code></pre>
<p>El contenido de cada variable lo podemos observar en el siguiente
<strong>diccionario de datos</strong>:</p>
<ul>
<li><p><strong>Pais</strong>: nombre del pais</p></li>
<li><p><strong>Puntaje</strong>: puntaje promedio del país.</p></li>
<li><p><strong>Rank</strong>: puesto del país en el indice por puntaje
promedio.</p></li>
<li><p><strong>Change_rank_previous_year</strong>: comparación de puesto
actual respecto del año anterior.</p></li>
<li><p><strong>Electoral_process_pluralism</strong>: Puntaje de medición
de pluralismo político-electoral.</p></li>
<li><p><strong>Functioning_government</strong>: Puntaje de medición del
funcionamiento del gobierno.</p></li>
<li><p><strong>Political_participation</strong>: puntaje de medición de
participación política.</p></li>
<li><p><strong>Political_culture</strong>: puntaje de medición de la
cultura política.</p></li>
<li><p><strong>Civil_liberties</strong>: puntaje en la medición de
libertades civiles.</p></li>
<li><p><strong>Categorías</strong>: tipo de régimen.</p></li>
<li><p><strong>Continente</strong>: región a la que pertenece el país
analizado.</p></li>
</ul>
<div id="cuál-es-la-distribución-de-países-por-régimen"
class="section level2">
<h2><strong>4.1. ¿Cuál es la distribución de países por
régimen?</strong></h2>
<p>Siempre antes de comenzar a realizar nuestro análisis, debemos
identificar la estructura de las variables y verificar que estén bien
<em>configuradas</em>. Es decir que la escala de la variable coincida
con el objeto en R.</p>
<p>Por ejemplo, debemos asegurarnos que una variable categórica no esté
configurada como numérica en R, y viceversa.</p>
<p><strong>Variable “Categorías”:</strong></p>
<p>Queremos saber el tipo de régimen de cada país observado. Para ello,
realizamos el análisis de la variable en cuestión
<code>Categorías</code></p>
<pre class="r"><code>class(data$Categorías) </code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.0     ✔ tibble    3.2.1
## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
## ✔ purrr     1.0.2     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter()  masks stats::filter()
## ✖ lubridate::hms() masks vembedr::hms()
## ✖ dplyr::lag()     masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<pre class="r"><code>data %&gt;%
 group_by(Categorías) %&gt;%
  summarize(Freq=n())</code></pre>
<pre><code>## # A tibble: 4 × 2
##   Categorías        Freq
##   &lt;chr&gt;            &lt;int&gt;
## 1 Authoritarian       59
## 2 Flawed democracy    48
## 3 Full democracy      24
## 4 Hybrid regime       36</code></pre>
<p>Se observa que, de los países analizados en el índice de la
democtracia, 59 países son coniderados como
<strong>Autoritarismo</strong>, 36 como <strong>Regímenes
híbridos</strong>, 48 como <strong>Democracia imperfecta</strong> y solo
24 como <strong>Democracia Plena</strong>.</p>
<p>Creemos un gráfico de barras para visualizar mejor los países por
tipo de régimen.</p>
<pre class="r"><code>para_graficoReg=data %&gt;%
 group_by(Categorías) %&gt;%
  summarize(Freq=n())#tabla de frecuencias

library(ggplot2)
ggplot(para_graficoReg, aes(x=Categorías, y=Freq, fill=Categorías)) + 
geom_bar(stat = &quot;identity&quot;)</code></pre>
<p><img src="pd1_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Adaptemos el diseño del gráfico :)</p>
<pre class="r"><code>library(ggplot2)
ggplot(para_graficoReg, aes(reorder(x=Categorías,-Freq), y=Freq, fill=Categorías)) + 
geom_bar(stat = &quot;identity&quot;)+
  
  ggtitle(&quot;Distribución de países por tipo de régimen&quot;) +
  xlab(&quot;Tipo de régimen&quot;) + ylab(&quot;Frecuencia&quot;)+
  geom_text(aes(label=round(Freq,1)), vjust=1.30, color=&quot;black&quot;, size=3)+
  scale_fill_brewer(name=&quot;Tipo de Régimen&quot;,palette=&quot;Pastel1&quot;)+
  theme(panel.background=element_rect(fill = &quot;white&quot;, colour = &quot;white&quot;))</code></pre>
<p><img src="pd1_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Las demás variables son numéricas y están configuradas como vectores
numéricos de números enteros (integer), por lo cual lo dejamos así
😸.</p>
</div>
<div id="cuál-es-la-distribución-de-países-por-puntaje"
class="section level2">
<h2><strong>4.2 ¿Cuál es la distribución de países por
puntaje?</strong></h2>
<p>Entonces, una vez configurados adecuadamente nuestros
<strong>objetos</strong>, pidamos los estadísticos de tendencia central
para nuestras variables de interés.</p>
<p>Antes instalamos los paquetes que utilizaremos</p>
<ul>
<li><strong><code>install.packages("DescTools")</code></strong> para
pedir los estadísticos de tendencia central</li>
</ul>
<div class="line-block">¿Cuál es el promedio del puntaje de todos los
países analizados?</div>
<p>Para ello, usamos el comando <code>mean</code> que significa “media o
promedio”.</p>
<pre class="r"><code>library(DescTools)
library(tidyverse)

data %&gt;% summarise(media = mean(Puntaje)) #este comando nos permitirá calcular la media. Consejo: leer este comando de derecha a izquierda</code></pre>
<pre><code>##      media
## 1 5.293174</code></pre>
<p>Este resultado quiere decir que el <strong>puntaje promedio</strong>
de todos los países analizados es de 5.29 puntos.</p>
<p>En segundo lugar, calculamos la mediana de los puntajes. Esta medida
es más robusta que la media, pues resiste valores extremos.</p>
<pre class="r"><code>library(DescTools)
data %&gt;% summarise(mediana = median(Puntaje)) #calcular la mediana. Al igual que con la media, se sugiere leer el comando de derecha a izquierda.</code></pre>
<pre><code>##   mediana
## 1    5.54</code></pre>
<p>Esto quiere decir que, hasta la mitad de países analizados tienen una
puntuación de hasta 5.54 puntos.</p>
<p><strong>Grafiquemos</strong> 🎨</p>
<p>Como la variable <code>Puntaje</code> es numérica, esta vez pediremos
un <strong>histograma</strong>.</p>
<pre class="r"><code>names(data)</code></pre>
<pre><code>##  [1] &quot;País&quot;                        &quot;Puntaje&quot;                    
##  [3] &quot;Rank&quot;                        &quot;Change_rank_previous_year&quot;  
##  [5] &quot;Electoral_process_pluralism&quot; &quot;Functioning_government&quot;     
##  [7] &quot;Political_participation&quot;     &quot;Political_culture&quot;          
##  [9] &quot;Civil_liberties&quot;             &quot;Categorías&quot;                 
## [11] &quot;Continente&quot;</code></pre>
<pre class="r"><code>library(ggplot2) #no olvidar llamar al paquete
data %&gt;%
ggplot(aes(x=Puntaje)) + 
geom_histogram() </code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="pd1_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Si lo queremos personalizar :)</p>
<pre class="r"><code>data %&gt;%
  ggplot(aes(x = Puntaje)) + 
  geom_histogram(color = &quot;blue&quot;, fill = &quot;#90EE90&quot;, bins = 30) +
  geom_text(stat = &#39;bin&#39;, aes(y = stat(count), label = stat(count)), vjust = -0.5, size = 3, color = &quot;black&quot;) +
  ggtitle(&quot;Puntaje promedio por país&quot;) +
  
  scale_y_continuous(breaks = seq(0, 12, by = 2), labels = seq(0, 12, by = 2)) +
  expand_limits(y = 12) +
  geom_vline(xintercept =  mean(data$Puntaje, na.rm = TRUE), color = &quot;red&quot;, linetype = &quot;dashed&quot;, size = 1) + # Línea de la media
  geom_vline(xintercept = median(data$Puntaje, na.rm = TRUE), color = &quot;blue&quot;, linetype = &quot;dashed&quot;, size = 1) + # Línea de la mediana
  theme_minimal()</code></pre>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## Warning: `stat(count)` was deprecated in ggplot2 3.4.0.
## ℹ Please use `after_stat(count)` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="pd1_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>El histograma muestra una <strong>distribución asimétrica sesgada con
ligero sesgo negativo o a la izquierda</strong>. Esto quiere decir que
existe una concentración de datos hacia la derecha.</p>
<p>También podemos dividir las medias por grupo. Para ello, usamos el
comando “group_by”.</p>
<pre class="r"><code>data%&gt;%
  group_by(Continente)%&gt;%
  summarise(media=mean(Puntaje))</code></pre>
<pre><code>## # A tibble: 5 × 2
##   Continente         media
##   &lt;chr&gt;              &lt;dbl&gt;
## 1 Asia y Australasia  5.46
## 2 Europa              8.36
## 3 Europa del Este     5.39
## 4 LatinoAmerica       5.79
## 5 Sub-Saharan Africa  4.05</code></pre>
<p>Podemos realizar la misma operación con la mediana</p>
<pre class="r"><code>data%&gt;%
  group_by(Continente)%&gt;%
  summarise(mediana=median(Puntaje))</code></pre>
<pre><code>## # A tibble: 5 × 2
##   Continente         mediana
##   &lt;chr&gt;                &lt;dbl&gt;
## 1 Asia y Australasia    6.10
## 2 Europa                8.28
## 3 Europa del Este       6.28
## 4 LatinoAmerica         6.34
## 5 Sub-Saharan Africa    3.64</code></pre>
<p>Y también podemos resumir todo en una misma tabla. Este tipo de tabla
se llama <strong>Tabla resumen</strong></p>
<pre class="r"><code>data%&gt;%
  group_by(Continente)%&gt;%
  summarise(media=mean(Puntaje), mediana=median(Puntaje))</code></pre>
<pre><code>## # A tibble: 5 × 3
##   Continente         media mediana
##   &lt;chr&gt;              &lt;dbl&gt;   &lt;dbl&gt;
## 1 Asia y Australasia  5.46    6.10
## 2 Europa              8.36    8.28
## 3 Europa del Este     5.39    6.28
## 4 LatinoAmerica       5.79    6.34
## 5 Sub-Saharan Africa  4.05    3.64</code></pre>
<div
id="ejercicio-escojan-una-variable-numérica-que-no-hayamos-utilizado-y-hallen-la-mediana-y-la-media-de-dicha-variable-por-continente."
class="section level4">
<h4>Ejercicio: Escojan una variable numérica que no hayamos utilizado y
hallen la mediana y la media de dicha variable, por continente.</h4>
<p><br></br></p>
</style>
<p><a href="https://raw.githubusercontent.com/arturomaldonado/PracticasPOL278/main/pd1.Rmd" download="NombreDeTuScript.R">
<button>Descargar Práctica Dirigida 1</button> </a></p>
<p><br></br> <a href="#beginning">Go to page beginning</a></p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
