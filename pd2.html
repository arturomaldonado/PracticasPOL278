<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Pr√°ctica dirigida 2</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Pr√°cticas Estad√≠stica_1</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="intro.html">Introducci√≥n</a>
</li>
<li>
  <a href="basico.html">Procedimientos b√°sicos</a>
</li>
<li>
  <a href="pd1.html">Pr√°ctica 1</a>
</li>
<li>
  <a href="pd2.html">Pr√°ctica 2</a>
</li>
<li>
  <a href="Pd3.html">Pr√°ctica 3</a>
</li>
<li>
  <a href="pd4.html">Pr√°ctica 4</a>
</li>
<li>
  <a href="pd5.html">Pr√°ctica 5</a>
</li>
<li>
  <a href="pd6.html">Pr√°ctica 6</a>
</li>
<li>
  <a href="pd7.html">Pr√°ctica 7</a>
</li>
<li>
  <a href="pd8.html">Pr√°ctica 8</a>
</li>
<li>
  <a href="pd9.html">Pr√°ctica 9</a>
</li>
<li>
  <a href="pd10.html">Pr√°ctica 10</a>
</li>
<li>
  <a href="pd11.html">Pr√°ctica 11</a>
</li>
<li>
  <a href="pd12.html">Pr√°ctica 12</a>
</li>
<li>
  <a href="pd13.html">Pr√°ctica 13</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="https://github.com/arturomaldonado/PracticasPOL278">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Pr√°ctica dirigida 2</h1>

</div>


<center>
<img src=" " width="200"/>
</center>
<p><img src="logoPUCP.png" width="30%" /></p>
<p><strong>FACULTAD DE CIENCIAS SOCIALES - PUCP</strong><br></p>
<div
id="curso-pol-278---estad√≠stica-para-el-an√°lisis-pol√≠tico-1-semestre-2024---1"
class="section level2">
<h2>Curso: POL 278 - Estad√≠stica para el an√°lisis pol√≠tico 1 | Semestre
2024 - 1 <br></h2>
<hr />
</div>
<div id="qu√©-es-el-an√°lisis-descriptivo" class="section level1">
<h1><strong>1.¬øQu√© es el an√°lisis descriptivo?</strong></h1>
<p><img src="pd2_QSAnalisisDesc.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="nivel-de-medida-de-una-variable" class="section level1">
<h1><strong>2.Nivel de medida de una variable</strong></h1>
<p><img src="pd2_medVar.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
<div id="importancia-de-visualizaci√≥n-de-datos" class="section level1">
<h1><strong>3.Importancia de visualizaci√≥n de datos</strong></h1>
<p>Debido al crecimiento de la big data en los √∫ltimos a√±os surgieron
nuevas necesidades para comprender los an√°lisis masivos de datos de una
forma simple y escalable. Es entonces cuando se dirige la atenci√≥n a
desarrollar nuevas t√©cnicas gr√°ficas en distintas plataformas (ejemplos
a continuaci√≥n), tanto softwares como librer√≠as de c√≥digo abierto<a
href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, tal es el
caso de ggplot2 en R.</p>
<p><img src="pd2_herramientas.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Este inter√©s por desarrollar t√©cnicas de an√°lisis masivo de datos y
la comunicaci√≥n de resultados cada vez m√°s amigables y apta para todos
los p√∫blicos dio pie a nuevas especialidades dentro de la ciencia de
datos, como por ejemplo el data story telling</p>
<p><img src="pd2_datavis.png" width="90%" style="display: block; margin: auto;" /></p>
<div id="gr√°ficos-por-tipo-de-variables" class="section level3">
<h3><strong>Gr√°ficos por tipo de variables:</strong></h3>
<p><img src="pd2_GrafTipoVar.png" width="60%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="an√°lisis-descriptivo" class="section level1">
<h1><strong>4.An√°lisis descriptivo</strong></h1>
<style>
.custom-text {
  color: #00688B;
  font-family: Helvetica, sans-serif;
  text-align: center;
  font-weight: bold;
  font-size: 22px;
}
</style>
<div class="custom-text">
<p>¬øCu√°l es la percepci√≥n de desigualdad en el Per√∫ el 2022? ü§î</p>
</div>
<p>Para dar respuesta a la pregunta de investigaci√≥n que guiara la
pr√°ctica dirigida analizaremos algunas de las variables que forman parte
de la Encuesta Nacional de Percepci√≥n de Desigualdades - ENADES 2022,
que fue elaborada por Instituto de Estudios Peruanos (IEP) y Oxfam. La
encuesta busca ahondar en la percepci√≥n de las diferentes formas de
desigualdad en el Per√∫ e incorpora indicadores que permiten medir la
magnitud de brechas sociales y pol√≠ticas como g√©nero, clase, entre
otros.</p>
<p><img src="Diccionario-enades.png" width="100%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>library(rio) #Convocamos el paquete   
data=import(&quot;ENADES_2022_final.dta&quot;) 
df = data[, c(&quot;edad&quot;, &quot;sexo&quot;, &quot;zona1&quot;, &quot;p03_1&quot;, &quot;p04&quot;, &quot;p05&quot;, &quot;p06&quot;, &quot;p11_1&quot;, &quot;p11_2&quot;, &quot;p11_3&quot;, &quot;p11_4&quot;, &quot;p13&quot; )]
str(df)</code></pre>
<pre><code>## &#39;data.frame&#39;:    1530 obs. of  12 variables:
##  $ edad : num  49 60 24 32 64 19 41 54 23 19 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;D01. ¬øQu√© edad tiene usted?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##  $ sexo : num  1 1 1 2 1 1 1 1 2 1 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;D02. SEXO del encuestado&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:3] 1 2 3
##   .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;Hombre&quot; &quot;Mujer&quot; &quot;Otro&quot;
##  $ zona1: num  1 1 4 2 4 2 3 2 2 5 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;D06. Macrozona&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:5] 1 2 3 4 5
##   .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;Lima Metropolitana&quot; &quot;Norte&quot; &quot;Centro&quot; &quot;Sur&quot; ...
##  $ p03_1: num  5 3 5 5 10 10 2 2 1 8 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P03.1 En una escala de 1 a 10, donde 1 significa ‚ÄúMuy en desacuerdo‚Äù y 10 signif&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:11] 1 2 3 4 5 6 7 8 9 10 ...
##   .. ..- attr(*, &quot;names&quot;)= chr [1:11] &quot;1 Muy en desacuerdo&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ p04  : num  3 1 99 1 3 1 1 1 1 2 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P04. ¬øQu√© tan desigual cree que es el Per√∫ econ√≥micamente?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:5] 1 2 3 4 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:5] &quot;Mucho&quot; &quot;Algo&quot; &quot;Poco&quot; &quot;Nada&quot; ...
##  $ p05  : num  3 1 1 1 1 1 1 1 1 1 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P05. En los √∫ltimos dos a√±os, ¬øcree que la diferencia entre ricos y pobres en el&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:4] 1 2 3 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Ha aumentado&quot; &quot;Se mantiene igual&quot; &quot;Ha disminuido&quot; &quot;NS/NP&quot;
##  $ p06  : num  2 2 4 3 2 2 2 3 4 3 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P06. ¬øUsted se describir√≠a a s√≠ mismo(a) como perteneciente a la clase‚Ä¶?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:6] 1 2 3 4 91 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:6] &quot;Alta&quot; &quot;Media alta&quot; &quot;Media baja&quot; &quot;Baja&quot; ...
##  $ p11_1: num  2 2 2 1 2 1 2 2 1 1 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P11.1 ¬øQu√© tan desigual es el acceso de los peruanos a la educaci√≥n?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:4] 1 2 3 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Muy desigual&quot; &quot;Poco desigual&quot; &quot;Nada desigual&quot; &quot;NS/NP&quot;
##  $ p11_2: num  1 1 2 1 2 1 1 1 2 1 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P11.2 ¬øQu√© tan desigual es el acceso de los peruanos a la salud?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:4] 1 2 3 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Muy desigual&quot; &quot;Poco desigual&quot; &quot;Nada desigual&quot; &quot;NS/NP&quot;
##  $ p11_3: num  2 1 2 1 2 1 1 1 2 1 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P11.3 ¬øQu√© tan desigual es el acceso de los peruanos al trabajo?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:4] 1 2 3 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Muy desigual&quot; &quot;Poco desigual&quot; &quot;Nada desigual&quot; &quot;NS/NP&quot;
##  $ p11_4: num  1 1 1 1 2 1 1 1 2 2 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P11.4 ¬øQu√© tan desigual es el acceso de los peruanos a la justicia?&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:4] 1 2 3 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;Muy desigual&quot; &quot;Poco desigual&quot; &quot;Nada desigual&quot; &quot;NS/NP&quot;
##  $ p13  : num  1 2 2 1 2 1 2 99 1 2 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;P13. En situaciones de crisis econ√≥mica ¬øest√° de acuerdo o en desacuerdo con que&quot;
##   ..- attr(*, &quot;format.stata&quot;)= chr &quot;%12.0g&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:3] 1 2 99
##   .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;De acuerdo&quot; &quot;En desacuerdo&quot; &quot;NS/NP&quot;</code></pre>
<pre class="r"><code>names(df) #revisamos las variables</code></pre>
<pre><code>##  [1] &quot;edad&quot;  &quot;sexo&quot;  &quot;zona1&quot; &quot;p03_1&quot; &quot;p04&quot;   &quot;p05&quot;   &quot;p06&quot;   &quot;p11_1&quot; &quot;p11_2&quot;
## [10] &quot;p11_3&quot; &quot;p11_4&quot; &quot;p13&quot;</code></pre>
<div
id="cu√°l-es-el-porcentaje-de-percepci√≥n-de-desigualdad-econ√≥mica-en-el-per√∫"
class="section level2">
<h2>4.1 ¬øCu√°l es el porcentaje de percepci√≥n de desigualdad econ√≥mica en
el Per√∫?</h2>
<p>Usaremos la variable <strong>P04</strong>:</p>
<p><code>¬øQu√© tan desigual cree que es el Per√∫ econ√≥micamente?</code></p>
<p>De acuerdo al diccionario de datos encontramos cuatro posibles
respuestas</p>
<ul>
<li><p>1:Mucho</p></li>
<li><p>2:Algo</p></li>
<li><p>3:Poco</p></li>
<li><p>4:Nada</p></li>
</ul>
<div id="an√°lisis-de-una-variable-ordinal" class="section level3">
<h3><strong>An√°lisis de una variable ordinal</strong></h3>
<p>Pasos para analizar una variable ordinal A. Identificar el tipo de
variable (str, class) B. Convertimos la variable al tipo de dato que
necesitamos dependiendo el caso C. Elaboramos un objeto que nos permita
ver preliminarmente los datos de la variable. D. Elaboramos un gr√°fico
que vaya acorde a la variable ordinal (gr√°fico de barras)</p>
<pre class="r"><code>library(dplyr) #Convocamos el paquete</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>#comprobamos el tipo de dato que analizaremos
class(df$p04)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Del diccionario de datos, sabemos que esta variable es
<strong>ordinal</strong>, revisemos si los niveles tienen coherencia con
las respuestas recogidas en la encuesta.</p>
<pre class="r"><code>table(df$p04) #Veamos los niveles de la variable</code></pre>
<pre><code>## 
##   1   2   3   4  99 
## 868 265 275  85  37</code></pre>
<p>üí• Otorguemosle etiquetas y categorizemosla como factor:</p>
<pre class="r"><code>df = df %&gt;%
 mutate(p04 = factor(p04, levels = 1:4, labels = c(&quot;Mucho&quot;, &quot;Algo&quot;, &quot;Poco&quot;, &quot;Nada&quot;), ordered = TRUE))</code></pre>
<p>Revisemos que el cambio se haya realizado correctamente usando el
comando summarise del paquete <code>dplyr</code></p>
<pre class="r"><code>df %&gt;%
 group_by(p04) %&gt;%
 summarise(Freq=n())</code></pre>
<pre><code>## # A tibble: 5 √ó 2
##   p04    Freq
##   &lt;ord&gt; &lt;int&gt;
## 1 Mucho   868
## 2 Algo    265
## 3 Poco    275
## 4 Nada     85
## 5 &lt;NA&gt;     37</code></pre>
<pre class="r"><code>df &lt;- na.omit(df)</code></pre>
<p>A primera vista, la tabla nos indica que la mayor√≠a de los
encuestados (818) opina que hay mucha desigualdad econ√≥mica en el pa√≠s.
Pero, ¬øcu√°nto ser√≠a dicho resultado en porcentaje?</p>
<p>Podemos realizar una tabla de frecuencias y porcentajes agregando una
linea al comando anterior. Asimismo, para poder graficar los resultados
de las tablas, tendremos que almacenarlas en un objeto. Trabajemos con
esta tabla resumen y asignemosle el nombre
<em><code>para_grafico</code></em> para posteriormente llamarla al
graficar.</p>
<pre class="r"><code>para_grafico=df %&gt;%
 group_by(p04) %&gt;%
 summarize(Freq=n()) %&gt;%
 mutate(Porcentaje = (Freq / sum(Freq))*100)

para_grafico</code></pre>
<pre><code>## # A tibble: 4 √ó 3
##   p04    Freq Porcentaje
##   &lt;ord&gt; &lt;int&gt;      &lt;dbl&gt;
## 1 Mucho   868      58.1 
## 2 Algo    265      17.7 
## 3 Poco    275      18.4 
## 4 Nada     85       5.69</code></pre>
<p>Afirmamos que m√°s del 50% de los encuestados percibe que el pa√≠s es
muy desigual econ√≥micamente.</p>
<p>Tambi√©n podemos analizar c√≥mo cambia esto si solo seleccionamos los
casos de los encuestados/as menores de 30 a√±os.</p>
<pre class="r"><code>df %&gt;%
  filter(edad&lt;30)%&gt;%
  group_by(p04) %&gt;%
  summarize(Freq=n()) %&gt;%
  mutate(Porcentaje = (Freq / sum(Freq))*100)</code></pre>
<pre><code>## # A tibble: 4 √ó 3
##   p04    Freq Porcentaje
##   &lt;ord&gt; &lt;int&gt;      &lt;dbl&gt;
## 1 Mucho   278      60.8 
## 2 Algo     98      21.4 
## 3 Poco     73      16.0 
## 4 Nada      8       1.75</code></pre>
<p>Grafiquemos los resultados con <em><code>ggplot2</code></em></p>
<p>Nuestra variable es categ√≥rica, por lo tanto realizaremos el gr√°fico
acorde:</p>
<pre class="r"><code>library(ggplot2)
library(taylor) #opcional (una ventaja de que R sea software libre)

ggplot(para_grafico, aes(x=p04, y=Porcentaje, fill=p04)) + 
geom_bar(stat = &quot;identity&quot;) </code></pre>
<p><img src="pd2_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Este es un gr√°fico b√°sico, pero podemos personalizarlo seg√∫n nuestros
gustos.</p>
<pre class="r"><code>ggplot(para_grafico, aes(x=p04, y=Porcentaje, fill=p04)) + 
  geom_bar(stat = &quot;identity&quot;)  +
  ggtitle(&quot;Percepci√≥n de desigualdad econ√≥mica&quot;) +
  xlab(&quot;¬øQu√© tan desigual cree que\n es el Per√∫ econ√≥micamente&quot;) + ylab(&quot;Porcentaje&quot;)+
  geom_text(aes(label=round(Porcentaje,1)), vjust=1.30, color=&quot;black&quot;, size=3)+
  theme(panel.background=element_rect(fill = &quot;white&quot;, colour = &quot;white&quot;)) +
  scale_fill_taylor_d(album=&quot;Lover&quot;) #&quot;Fearless (Taylor&#39;s Version)&quot;</code></pre>
<p><img src="pd2_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>El ejercicio de an√°lisis descriptivo con variables num√©ricas lo
realizaremos con un indicador aditivo que crearemos a continuaci√≥n.</p>
</div>
</div>
<div
id="cu√°l-es-la-percepci√≥n-de-la-desigualdad-en-calidad-de-vida-en-el-per√∫"
class="section level2">
<h2>4.2 ¬øCu√°l es la percepci√≥n de la desigualdad en calidad de vida en
el Per√∫?</h2>
<div id="indicador-proxy" class="section level3">
<h3><strong>Indicador Proxy</strong></h3>
<p>TambieÃÅn llamado indicador indirecto, se usa ante la imposibilidad de
medir lo que efectivamente es de importancia. El indicador mide una
variable distinta a la que nos interesa de manera especiÃÅfica, pero
presenta una relacioÃÅn lo maÃÅs directa posible con el fenoÃÅmeno en
estudio.</p>
<p>Un indicador proxy es una medici√≥n o se√±al indirecto que aproxima o
representa un fen√≥meno en la ausencia de una medici√≥n o se√±al
directo.</p>
</div>
<div id="indicador-aditivo" class="section level3">
<h3><strong>Indicador Aditivo</strong></h3>
<div id="pasos-para-construir-un-indicador" class="section level4">
<h4>Pasos para construir un indicador:</h4>
<ol style="list-style-type: decimal">
<li>Verificar que las variables que construyan el indicador correspondan
al concepto que se desea medir. <em>Ejemplo: Si deseo mejor Satisfacci√≥n
del Usuario, las preguntas deben ser sobre ello.</em></li>
<li>Revisar el cuestionario e identificar el sentido de las categor√≠as.
<em>Ejemplo: El valor 5 es ‚ÄúMuy instafisfecho‚Äù y 1 ‚ÄúMuy
satisfecho‚Äù</em></li>
<li>Si las categor√≠as de las variables est√°n en el correcto sentido
proceder a sumarlas, si no lo est√°n, proceder a recodificarlas para
luego sumar.</li>
<li>Una vez realizada la suma, identificar el m√≠nimo y el m√°ximo.</li>
<li>Restar el valor m√≠nimo a la suma de todos los valores.</li>
<li>Al resultado de lo anterior, dividir por el nuevo m√°ximo menos el
m√≠nimo, con ello, se va a obtener valores entre 0 y 1.</li>
<li>Multiplicar por 100 si se desea el √≠ndice de 0 a 100, o por 10 si se
desea el √≠ndice de 0 a 10.</li>
</ol>
<p>Construiremos un indicador aditivos de percepci√≥n de desigualdad en
calidad de vida en el Per√∫, que vaya del 0 al 100. Para ello usaremos a
las variables <code>d_educ</code>, <code>d_salud</code>,
<code>d_trabajo</code> y <code>d_justicia</code>, junto a sus respuestas
tres respuestas:</p>
<ul>
<li><p>1: Nada desigual</p></li>
<li><p>2: Poco desigual</p></li>
<li><p>3: Muy desigual</p></li>
</ul>
<p>El indicador que queremos crear es de percepci√≥n de desigualdad, por
tanto mayor valor deber√≠a significar mayor desigualdad.</p>
<p>üó®Ô∏è Para poder crear el indicador, necesitamos que todas las variables
a usar sean num√©ricas porque las tendremos que sumar.</p>
<pre class="r"><code>df = df %&gt;%
 mutate(p11_1 = factor(p11_1, levels = 1:3, labels = c(&quot;Nada desigual&quot;, &quot;Poco desigual&quot;, &quot;Muy desigual&quot;), ordered = TRUE)) %&gt;%
 mutate(p11_2 = factor(p11_2, levels = 1:3, labels = c(&quot;Nada desigual&quot;, &quot;Poco desigual&quot;, &quot;Muy desigual&quot;), ordered = TRUE)) %&gt;%
 mutate(p11_3 = factor(p11_3, levels = 1:3, labels = c(&quot;Nada desigual&quot;, &quot;Poco desigual&quot;, &quot;Muy desigual&quot;), ordered = TRUE)) %&gt;%
  mutate(p11_4 = factor(p11_4, levels = 1:3, labels = c(&quot;Nada desigual&quot;, &quot;Poco desigual&quot;, &quot;Muy desigual&quot;), ordered = TRUE))
  
str(df)  </code></pre>
<pre><code>## &#39;data.frame&#39;:    1493 obs. of  12 variables:
##  $ edad : num  49 60 32 64 19 41 54 23 19 20 ...
##  $ sexo : num  1 1 2 1 1 1 1 2 1 1 ...
##  $ zona1: num  1 1 2 4 2 3 2 2 5 5 ...
##  $ p03_1: num  5 3 5 10 10 2 2 1 8 10 ...
##  $ p04  : Ord.factor w/ 4 levels &quot;Mucho&quot;&lt;&quot;Algo&quot;&lt;..: 3 1 1 3 1 1 1 1 2 2 ...
##  $ p05  : num  3 1 1 1 1 1 1 1 1 3 ...
##  $ p06  : num  2 2 3 2 2 2 3 4 3 2 ...
##  $ p11_1: Ord.factor w/ 3 levels &quot;Nada desigual&quot;&lt;..: 2 2 1 2 1 2 2 1 1 2 ...
##  $ p11_2: Ord.factor w/ 3 levels &quot;Nada desigual&quot;&lt;..: 1 1 1 2 1 1 1 2 1 2 ...
##  $ p11_3: Ord.factor w/ 3 levels &quot;Nada desigual&quot;&lt;..: 2 1 1 2 1 1 1 2 1 2 ...
##  $ p11_4: Ord.factor w/ 3 levels &quot;Nada desigual&quot;&lt;..: 1 1 1 2 1 1 1 2 2 3 ...
##  $ p13  : num  1 2 1 2 1 2 99 1 2 1 ...
##  - attr(*, &quot;na.action&quot;)= &#39;omit&#39; Named int [1:37] 3 47 59 87 152 282 330 380 406 458 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:37] &quot;3&quot; &quot;47&quot; &quot;59&quot; &quot;87&quot; ...</code></pre>
<pre class="r"><code>df &lt;- na.omit(df)</code></pre>
<pre class="r"><code>table(df$p11_1)</code></pre>
<pre><code>## 
## Nada desigual Poco desigual  Muy desigual 
##           882           470            72</code></pre>
<p>Recategorizemos nuestras variables a num√©ricas:</p>
<pre class="r"><code>names(df)</code></pre>
<pre><code>##  [1] &quot;edad&quot;  &quot;sexo&quot;  &quot;zona1&quot; &quot;p03_1&quot; &quot;p04&quot;   &quot;p05&quot;   &quot;p06&quot;   &quot;p11_1&quot; &quot;p11_2&quot;
## [10] &quot;p11_3&quot; &quot;p11_4&quot; &quot;p13&quot;</code></pre>
<pre class="r"><code>df[8:11] &lt;- lapply(df[8:11], as.numeric) #podemos usar lapply para recodificar m√°s de una variable a la vez

#ejemplo usando dplyr: data = data %&gt;%  mutate(across(7:10, as.numeric))</code></pre>
<p>Recordemos los pasos para crear un √≠ndice aditivo:</p>
<pre><code>*((var_suma - m√≠n_de_suma)/(m√°x_de_suma-m√≠n de suma)))\*valor al que quiere que llegue el √≠ndice(si va del 0 al 10 ser√° 10, del 0 al 50 ser√° 50, etc).*</code></pre>
<pre class="r"><code>df=df %&gt;%
  mutate(suma = p11_1 + p11_2 + p11_3 + p11_4)</code></pre>
<p>Revisamos m√≠nimo y m√°ximo</p>
<pre class="r"><code>summary(df$suma)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   4.000   4.000   5.000   5.354   6.000  12.000</code></pre>
<pre class="r"><code>df= df %&gt;%
 mutate(indicador = ((suma-4)/(12-4))*100) #Como queremos que el indicador vaya del 0 al 100, lo multiplicamos por 100</code></pre>
</div>
</div>
</div>
<div
id="cu√°l-es-la-diferencia-de-la-percepci√≥n-de-desigualdad-entre-mujeres-y-hombres"
class="section level2">
<h2>4.3 ¬øCu√°l es la diferencia de la percepci√≥n de desigualdad entre
mujeres y hombres? ü§î</h2>
<p>Ahora, veamos algunas medidas de tendencia central, distribuci√≥n y
dispersi√≥n para el caso de variables num√©ricas. Trabajaremos con el
indicador que acabamos de crear: <code>indicador</code></p>
<p>Exploremos la variable. Veamos medidas de tendencia central y de
dispersi√≥n. Recordemos que va del 0 al 100.</p>
<pre class="r"><code>df%&gt;%
  summarise(Media = mean(indicador), 
            Mediana = median(indicador),
            Desviacion = sd(indicador),
            Minimo = min(indicador),
            Maximo = max(indicador))</code></pre>
<pre><code>##      Media Mediana Desviacion Minimo Maximo
## 1 16.92416    12.5   18.63212      0    100</code></pre>
<p>Podemos analizar la respuesta seg√∫n el sexo de los encuestados</p>
<pre class="r"><code>df = df %&gt;%
 mutate(sexo = factor(sexo, levels = 1:2, labels = c(&quot;Hombre&quot;,&quot;Mujer&quot;)))</code></pre>
<pre class="r"><code>df %&gt;%
 group_by(sexo) %&gt;%
  summarise(Media=mean(indicador)) </code></pre>
<pre><code>## # A tibble: 2 √ó 2
##   sexo   Media
##   &lt;fct&gt;  &lt;dbl&gt;
## 1 Hombre  17.2
## 2 Mujer   16.6</code></pre>
<p>La tabla nos indica que las encuestadas mujeres perciben ligeramente
una mayor desigualdad en los derechos y servicios, a comparaci√≥n de los
hombres.</p>
<p>Podemos visualizarlo mejor con un gr√°fico</p>
<pre class="r"><code>ggplot(df, aes(x=sexo, y=indicador, color=sexo)) + 
  geom_boxplot() + 
  geom_jitter(shape=16, position=position_jitter(0.2)) +#para agregar los casos como puntos
  theme_classic()</code></pre>
<p><img src="pd2_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>‚û°Ô∏è An√°lisis: Como podemos ver en el gr√°fico la disperci√≥n de los
datos es muy similar en el grupo de hombre y mujeres. Los valores
at√≠picos (<em>outliers</em>) se muestran como puntos individuales fuera
de la caja. La l√≠nea que vemos dentro de la caja nos se√±ala la
<em>mediana</em>, al comparar las dos l√≠neas se aprecia que la mediana
es similar.</p>
<p>En resumen, el <code>boxplot</code> es herramienta gr√°fica que
proporciona un resumen visual de la distribuci√≥n de un conjunto de
datos, mostrando la mediana, los cuartiles, los valores at√≠picos y la
variabilidad de los datos.</p>
<pre class="r"><code>table (df$p06)</code></pre>
<pre><code>## 
##   1   2   3   4  91  99 
##  13 243 755 374   9  30</code></pre>
<pre class="r"><code>df = df %&gt;%
 mutate(p06 = factor(p06, levels = 1:4, labels = c(&quot;Alta&quot;, &quot;Media alta&quot;, &quot;Media baja&quot;, &quot;Baja&quot;), ordered = TRUE))</code></pre>
<pre class="r"><code>df &lt;- na.omit(df)</code></pre>
<pre class="r"><code>ggplot(df, aes(x=p06, y=indicador, color=sexo)) + 
  geom_boxplot() + 
  geom_jitter(shape=16, position=position_jitter(0.2)) +#para agregar los casos como puntos
  theme_classic()</code></pre>
<p><img src="pd2_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p><strong>Ejercicio para casa:</strong> Analice descriptivos y elabore
el gr√°fico correspondiente para la variable p03_1</p>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p><a href="https://www.data-to-viz.com/caveat/pie.html"
class="uri">https://www.data-to-viz.com/caveat/pie.html</a><a
href="#fnref1" class="footnote-back">‚Ü©Ô∏é</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
